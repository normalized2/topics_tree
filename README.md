# topics_tree


Что-то все равно без выстроенного вручную дерева у меня не получается.

В качестве примера, чтоб понять что нужно сделать (а то не понятно все равно) попробовал расставить тэги по некоторым веткам для "Политического раздела" (которые обновлялись в этом разделе за последние 2 года):

- есть список веток в виде файла `csv`. Для некоторых веток политического раздела добавлены тэги (в крайние правые столбцы tag1 tag2 tag3) : [topics_all.csv](https://github.com/normalized2/topics_tree/blob/master/topics_all.csv). Человек с ним работает и расставляет тэги.
- для того чтобы оценить что получается, как раскидываются ветки генерируется вьюшка, вот как раз для этого  понадобилось дерево [tree.md](https://github.com/normalized2/topics_tree/blob/master/tree.md) (составлено человеком), в котором тэги расставлены иерархически ручками. (возможна сериализация и десериализация в `csv`)
- С помощью двух этих исходных файлов после проверки соответствия тэгов сгенерирован ([check.ipynb](https://github.com/normalized2/topics_tree/blob/master/check.ipynb)) пример view-шки, что получается: [topics_generated.md](https://github.com/normalized2/topics_tree/blob/master/topics_generated.md)

Вопросы и неясности:
- Что дальше? Что должно получиться в итоге? Правильное ли направление движения?
- Как я понял из вышенаписанных сообщений: так как к ветке могут быть привязаны несколько тэгов, то ветка может одновременно попасть в несколько каталогов (Например [Донбасс - его жизнь и судьба](https://glav.su/forum/4/2658/) и к России и к Украине).
- Как я понял из вышенаписанных сообщений: К каталогу, например "Россия", может быть привязана ветка, но только одна. (добавить столбец в csv файл? или как?)
- Пока что в рамках раздела, в дереве, тэги уникальны. То есть тэг США в "Политическом разделе" может быть в дереве только  не более одного раза (а ведь можно придумать случаи, когда потребуется чтоб какой-то тэг в дереве встречался более одного раза)

А чтобы строить *иерархию автоматически исходя из наработанного* без дерева, то есть только на основе main_topics.csv ( + названия, тэгов, и, например, на основе текста первых двадцати сообщений и других данных), то нужно что-то типа [тематического моделирования](https://habrahabr.ru/company/yandex/blog/313340/) (рекомендую просмотреть лекцию) которое поддерживает динамику, или что-то еще. Но это пока сложно.

Теперь насчет workflow:
Если хотя бы на 50% направление верно (но после обсуждения), то можно брать/скачивать .csv файлы и пробовать дальше расставлять теги, можно форкиться или пулриквестивать. Расставить тэги ко всем веткам я, конечно, не смогу (о ветках и представления-то не имею, кто и что там чего обсуждал или обсуждает), Особенно много топиков на "Пользовательских разделах" (половина веток, 800 из 1600) понятно что все ветки пока не нужно и некоторые старые, но все таки желательно охватить (так как потом возможно будет обучение, чтоб автоматически классифицировать документ). Начать, кмк, для примера лучше с двух-трех разделов (чтоб учесть проблему общих тем между разделами). Для оценки времени: всего веток на форуме 1596, включая заблокированные, если на каждую (а каждую не нужно) тратить 5-10 секунд, то тэгирование займет  2-4 часа. Соответственно создается файл дерева tree.md (одновременно, а может быть и раньше, а может быть и позже).

И все равно, до конца не понимаю результат и зачем все это нужно. Самое не понятное куда отнести ветку "Путин" которая на пользовательских, как протэгировать понятно.

